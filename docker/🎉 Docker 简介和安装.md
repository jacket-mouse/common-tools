# ğŸ‰ Docker ç®€ä»‹å’Œå®‰è£…

### Docker æ˜¯ä»€ä¹ˆ

Docker æ˜¯ä¸€ä¸ªåº”ç”¨æ‰“åŒ…ã€åˆ†å‘ã€éƒ¨ç½²çš„å·¥å…·
ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªè½»é‡çš„è™šæ‹Ÿæœºï¼Œå®ƒåªè™šæ‹Ÿä½ è½¯ä»¶éœ€è¦çš„è¿è¡Œç¯å¢ƒï¼Œå¤šä½™çš„ä¸€ç‚¹éƒ½ä¸è¦ï¼Œ
è€Œæ™®é€šè™šæ‹Ÿæœºåˆ™æ˜¯ä¸€ä¸ªå®Œæ•´è€Œåºå¤§çš„ç³»ç»Ÿï¼ŒåŒ…å«å„ç§ä¸ç®¡ä½ è¦ä¸è¦çš„è½¯ä»¶ã€‚

> æœ¬æ–‡æ¡£è¯¾ä»¶é…å¥— [è§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/BV11L411g7U1)

### è·Ÿæ™®é€šè™šæ‹Ÿæœºçš„å¯¹æ¯”

| ç‰¹æ€§   | æ™®é€šè™šæ‹Ÿæœº                                                   | Docker                                               |
| ------ | ------------------------------------------------------------ | ---------------------------------------------------- |
| è·¨å¹³å° | é€šå¸¸åªèƒ½åœ¨æ¡Œé¢çº§ç³»ç»Ÿè¿è¡Œï¼Œä¾‹å¦‚ Windows/Macï¼Œæ— æ³•åœ¨ä¸å¸¦å›¾å½¢ç•Œé¢çš„æœåŠ¡å™¨ä¸Šè¿è¡Œ | æ”¯æŒçš„ç³»ç»Ÿéå¸¸å¤šï¼Œå„ç±» windows å’Œ Linux éƒ½æ”¯æŒ       |
| æ€§èƒ½   | æ€§èƒ½æŸè€—å¤§ï¼Œå†…å­˜å ç”¨é«˜ï¼Œå› ä¸ºæ˜¯æŠŠæ•´ä¸ªå®Œæ•´ç³»ç»Ÿéƒ½è™šæ‹Ÿå‡ºæ¥äº†     | æ€§èƒ½å¥½ï¼Œåªè™šæ‹Ÿè½¯ä»¶æ‰€éœ€è¿è¡Œç¯å¢ƒï¼Œæœ€å¤§åŒ–å‡å°‘æ²¡ç”¨çš„é…ç½® |
| è‡ªåŠ¨åŒ– | éœ€è¦æ‰‹åŠ¨å®‰è£…æ‰€æœ‰ä¸œè¥¿                                         | ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥è‡ªåŠ¨éƒ¨ç½²å¥½æ‰€éœ€ç¯å¢ƒ                     |
| ç¨³å®šæ€§ | ç¨³å®šæ€§ä¸é«˜ï¼Œä¸åŒç³»ç»Ÿå·®å¼‚å¤§                                   | ç¨³å®šæ€§å¥½ï¼Œä¸åŒç³»ç»Ÿéƒ½ä¸€æ ·éƒ¨ç½²æ–¹å¼                     |

### æ‰“åŒ…ã€åˆ†å‘ã€éƒ¨ç½²

**æ‰“åŒ…**ï¼šå°±æ˜¯æŠŠä½ è½¯ä»¶è¿è¡Œæ‰€éœ€çš„ä¾èµ–ã€ç¬¬ä¸‰æ–¹åº“ã€è½¯ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªå®‰è£…åŒ…
**åˆ†å‘**ï¼šä½ å¯ä»¥æŠŠä½ æ‰“åŒ…å¥½çš„â€œå®‰è£…åŒ…â€ä¸Šä¼ åˆ°ä¸€ä¸ªé•œåƒä»“åº“ï¼Œå…¶ä»–äººå¯ä»¥éå¸¸æ–¹ä¾¿çš„è·å–å’Œå®‰è£…
**éƒ¨ç½²**ï¼šæ‹¿ç€â€œå®‰è£…åŒ…â€å°±å¯ä»¥ä¸€ä¸ªå‘½ä»¤è¿è¡Œèµ·æ¥ä½ çš„åº”ç”¨ï¼Œè‡ªåŠ¨æ¨¡æ‹Ÿå‡ºä¸€æ‘¸ä¸€æ ·çš„è¿è¡Œç¯å¢ƒï¼Œä¸ç®¡æ˜¯åœ¨ Windows/Mac/Linuxã€‚
![image.png](https://cos.easydoc.net/46901064/files/kv7rlicu.png)

### Docker éƒ¨ç½²çš„ä¼˜åŠ¿

å¸¸è§„åº”ç”¨å¼€å‘éƒ¨ç½²æ–¹å¼ï¼šè‡ªå·±åœ¨ Windows ä¸Šå¼€å‘ã€æµ‹è¯• --> åˆ° Linux æœåŠ¡å™¨é…ç½®è¿è¡Œç¯å¢ƒéƒ¨ç½²ã€‚

> é—®é¢˜ï¼šæˆ‘æœºå™¨ä¸Šè·‘éƒ½æ²¡é—®é¢˜ï¼Œæ€ä¹ˆåˆ°æœåŠ¡å™¨å°±å„ç§é—®é¢˜äº†

ç”¨ Docker å¼€å‘éƒ¨ç½²æµç¨‹ï¼šè‡ªå·±åœ¨ Windows ä¸Šå¼€å‘ã€æµ‹è¯• --> æ‰“åŒ…ä¸º Docker é•œåƒï¼ˆå¯ä»¥ç†è§£ä¸ºè½¯ä»¶å®‰è£…åŒ…ï¼‰ --> å„ç§æœåŠ¡å™¨ä¸Šåªéœ€è¦ä¸€ä¸ªå‘½ä»¤éƒ¨ç½²å¥½

> ä¼˜ç‚¹ï¼šç¡®ä¿äº†ä¸åŒæœºå™¨ä¸Šè·‘éƒ½æ˜¯ä¸€è‡´çš„è¿è¡Œç¯å¢ƒï¼Œä¸ä¼šå‡ºç°æˆ‘æœºå™¨ä¸Šè·‘æ­£å¸¸ï¼Œä½ æœºå™¨è·‘å°±æœ‰é—®é¢˜çš„æƒ…å†µã€‚

ä¾‹å¦‚ [æ˜“æ–‡æ¡£](https://easydoc.net/)ï¼Œ[SVNBucket](https://svnbucket.com/) çš„ç§æœ‰åŒ–éƒ¨ç½²å°±æ˜¯ç”¨ Dockerï¼Œè½»æ¾åº”å¯¹å®¢æˆ·çš„å„ç§æœåŠ¡å™¨ã€‚

### Docker é€šå¸¸ç”¨æ¥åšä»€ä¹ˆ

- åº”ç”¨åˆ†å‘ã€éƒ¨ç½²ï¼Œæ–¹ä¾¿ä¼ æ’­ç»™ä»–äººå®‰è£…ã€‚ç‰¹åˆ«æ˜¯å¼€æºè½¯ä»¶å’Œæä¾›ç§æœ‰éƒ¨ç½²çš„åº”ç”¨
- å¿«é€Ÿå®‰è£…æµ‹è¯•/å­¦ä¹ è½¯ä»¶ï¼Œç”¨å®Œå°±ä¸¢ï¼ˆç±»ä¼¼å°ç¨‹åºï¼‰ï¼Œä¸æŠŠæ—¶é—´æµªè´¹åœ¨å®‰è£…è½¯ä»¶ä¸Šã€‚ä¾‹å¦‚ Redis / MongoDB / ElasticSearch / ELK
- å¤šä¸ªç‰ˆæœ¬è½¯ä»¶å…±å­˜ï¼Œä¸æ±¡æŸ“ç³»ç»Ÿï¼Œä¾‹å¦‚ Python2ã€Python3ï¼ŒRedis4.0ï¼ŒRedis5.0
- Windows ä¸Šä½“éªŒ/å­¦ä¹ å„ç§ Linux ç³»ç»Ÿ

### é‡è¦æ¦‚å¿µï¼šé•œåƒã€å®¹å™¨

**é•œåƒ**ï¼šå¯ä»¥ç†è§£ä¸ºè½¯ä»¶å®‰è£…åŒ…ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œä¼ æ’­å’Œå®‰è£…ã€‚
**å®¹å™¨**ï¼šè½¯ä»¶å®‰è£…åçš„çŠ¶æ€ï¼Œæ¯ä¸ªè½¯ä»¶è¿è¡Œç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ã€éš”ç¦»çš„ï¼Œç§°ä¹‹ä¸ºå®¹å™¨ã€‚

### å®‰è£…

æ¡Œé¢ç‰ˆï¼šhttps://www.docker.com/products/docker-desktop
æœåŠ¡å™¨ç‰ˆï¼šhttps://docs.docker.com/engine/install/#server

### å¯åŠ¨æŠ¥é”™è§£å†³

æŠ¥é”™æˆªå›¾
![image.png](https://cos.easydoc.net/46901064/files/kvacsk82.png)

**è§£å†³æ–¹æ³•**ï¼š
æ§åˆ¶é¢æ¿->ç¨‹åº->å¯ç”¨æˆ–å…³é—­ windows åŠŸèƒ½ï¼Œå¼€å¯ Windows è™šæ‹ŸåŒ–å’Œ Linux å­ç³»ç»Ÿï¼ˆWSL2)
![image.png](https://cos.easydoc.net/46901064/files/kvactn57.png)

**å‘½ä»¤è¡Œå®‰è£… Linux å†…æ ¸**
`wsl.exe --install -d Ubuntu`

> ä½ ä¹Ÿå¯ä»¥æ‰“å¼€å¾®è½¯å•†åº— Microsoft Store æœç´¢ Linux è¿›è¡Œå®‰è£…ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€æ–°ç‰ˆæœ¬çš„ Ubuntu æˆ–è€… Debian éƒ½å¯ä»¥

> ä¸Šé¢å‘½ä»¤å¾ˆå¯èƒ½ä½ å®‰è£…ä¸äº†ï¼Œå¾®è½¯å•†åº—ä½ ä¹Ÿå¯èƒ½æ‰“ä¸å¼€ï¼Œå¦‚æœé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå‚è€ƒï¼šhttps://blog.csdn.net/qq_42220935/article/details/104714114

**è®¾ç½®å¼€æœºå¯åŠ¨ Hypervisor**
`bcdedit /set hypervisorlaunchtype auto`

> æ³¨æ„è¦ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ PowerShell

**è®¾ç½®é»˜è®¤ä½¿ç”¨ç‰ˆæœ¬2**
`wsl.exe --set-default-version 2`

**æŸ¥çœ‹ WSL æ˜¯å¦å®‰è£…æ­£ç¡®**
`wsl.exe --list --verbose`
åº”è¯¥å¦‚ä¸‹å›¾ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ª Linux ç³»ç»Ÿï¼Œåå­—ä½ çš„ä¸ä¸€å®šè·Ÿæˆ‘çš„ä¸€æ ·ï¼Œçœ‹ä½ å®‰è£…çš„æ˜¯ä»€ä¹ˆç‰ˆæœ¬ã€‚
å¹¶ä¸” VERSION æ˜¯ 2
![image.png](https://cos.easydoc.net/46901064/files/ldxvkks2.png)

**ç¡®ä¿ BIOS å·²å¼€å¯è™šæ‹ŸåŒ–ï¼Œä¸‹å›¾æ£€æŸ¥æ˜¯å¦å·²å¼€å¯å¥½**

> å¦‚æœæ˜¯å·²ç¦ç”¨ï¼Œè¯·åœ¨å¼€æœºæ—¶æŒ‰ F2 è¿›å…¥ BIOS å¼€å¯ä¸€ä¸‹ï¼Œä¸ä¼šè®¾ç½®çš„å¯ä»¥ç½‘ä¸Šæœç´¢ä¸‹è‡ªå·±ä¸»æ¿çš„è®¾ç½®æ–¹æ³•ï¼ŒIntel å’Œ AMD çš„è®¾ç½®å¯èƒ½ç¨æœ‰ä¸åŒ

![image.png](https://cos.easydoc.net/46901064/files/kvaf7ody.png)

**å‡ºç°ä¸‹å›¾é”™è¯¯ï¼Œç‚¹å‡»é“¾æ¥å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ WSL2**
https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi
![image.png](https://cos.easydoc.net/46901064/files/kvajwvuw.png)

### é•œåƒåŠ é€Ÿæº

| é•œåƒåŠ é€Ÿå™¨          | é•œåƒåŠ é€Ÿå™¨åœ°å€                       |
| ------------------- | ------------------------------------ |
| Docker ä¸­å›½å®˜æ–¹é•œåƒ | https://registry.docker-cn.com       |
| DaoCloud é•œåƒç«™     | http://f1361db2.m.daocloud.io        |
| Azure ä¸­å›½é•œåƒ      | https://dockerhub.azk8s.cn           |
| ç§‘å¤§é•œåƒç«™          | https://docker.mirrors.ustc.edu.cn   |
| é˜¿é‡Œäº‘              | https://ud6340vz.mirror.aliyuncs.com |
| ä¸ƒç‰›äº‘              | https://reg-mirror.qiniu.com         |
| ç½‘æ˜“äº‘              | https://hub-mirror.c.163.com         |
| è…¾è®¯äº‘              | https://mirror.ccs.tencentyun.com    |

```
"registry-mirrors": ["https://registry.docker-cn.com"]
```

![1.png](https://cos.easydoc.net/46901064/files/l25jdwrn.png)

> è§‰å¾—è€å¸ˆè®²å¾—ä¸é”™çš„è¯ï¼Œè®°å¾—ç‚¹èµã€å…³æ³¨ã€åˆ†äº«ï¼Œé¼“åŠ±ä¸‹è€å¸ˆ
> ä½ ä»¬çš„é¼“åŠ±ä¼šè®©è€å¸ˆæ›´åŠ æœ‰åŠ¨åŠ›ç»§ç»­åˆ›é€ æ›´å¤šæ›´å¥½çš„å†…å®¹

ä½ å¯ä»¥åˆ° [Github issue](https://github.com/gzyunke/test-docker/issues) ç»™æˆ‘æé—®æˆ–åé¦ˆé‡åˆ°çš„é—®é¢˜ã€‚